<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tidy Finance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./introduction-to-tidy-finance.html" rel="next">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>

<script src="site_libs/kePrint/kePrint.js"></script>
<link href="site_libs/lightable/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./logo-website-white.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Tidy Finance</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page">
 <span class="menu-text">Book</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="./blog.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Tidy Finance with R</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">Preface</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Getting Started</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction-to-tidy-finance.html" class="sidebar-item-text sidebar-link">Introduction to Tidy Finance</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Appendix</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cover-and-logo-design.html" class="sidebar-item-text sidebar-link">Cover and Logo Design</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hex-sticker.html" class="sidebar-item-text sidebar-link">Hex Sticker</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preface" id="toc-preface" class="nav-link active" data-scroll-target="#preface">Preface</a>
  <ul class="collapse">
  <li><a href="#why-does-this-book-exist" id="toc-why-does-this-book-exist" class="nav-link" data-scroll-target="#why-does-this-book-exist">Why Does This Book Exist?</a></li>
  <li><a href="#who-should-read-this-book" id="toc-who-should-read-this-book" class="nav-link" data-scroll-target="#who-should-read-this-book">Who Should Read This Book?</a></li>
  <li><a href="#what-will-you-learn" id="toc-what-will-you-learn" class="nav-link" data-scroll-target="#what-will-you-learn">What Will You Learn?</a></li>
  <li><a href="#what-wont-you-learn" id="toc-what-wont-you-learn" class="nav-link" data-scroll-target="#what-wont-you-learn">What Won’t You Learn?</a></li>
  <li><a href="#why-r" id="toc-why-r" class="nav-link" data-scroll-target="#why-r">Why R?</a></li>
  <li><a href="#why-tidy" id="toc-why-tidy" class="nav-link" data-scroll-target="#why-tidy">Why Tidy?</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#about-the-authors" id="toc-about-the-authors" class="nav-link" data-scroll-target="#about-the-authors">About the Authors</a></li>
  <li><a href="#license" id="toc-license" class="nav-link" data-scroll-target="#license">License</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/tidy-finance/tidy-finance.org/edit/main/index.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/tidy-finance/tidy-finance.org/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="preface" class="level1">
<h1>Preface</h1>
<div class="columns">
<div class="column" style="width:70%;">
<p>This website is the online version of <em>Tidy Finance with R</em>, a book currently under development and intended for print release via <a href="https://www.routledge.com/go/chapman-hall?utm_source=tidy-finance.org">Chapman &amp; Hall/CRC</a>. The book is the result of a joint effort of <a href="https://christophscheuch.github.io?utm_source=tidy-finance.org">Christoph Scheuch</a>, <a href="https://voigtstefan.me?utm_source=tidy-finance.org">Stefan Voigt</a>, and <a href="https://sites.google.com/view/patrick-weiss?utm_source=tidy-finance.org">Patrick Weiss</a>.</p>
<p>We are grateful for any kind of feedback on <em>every</em> aspect of the book. So please get in touch with us via <a href="mailto:contact@tidy-finance.org">contact@tidy-finance.org</a> if you spot typos, discover any issues that deserve more attention, or if you have suggestions for additional chapters and sections. Additionally, let us know if you found the text helpful. We look forward to hearing from you!</p>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.routledge.com/Tidy-Finance-with-R/Voigt-Weiss-Scheuch/p/book/9781032389349?utm_source=tidy-finance.org"><img src="cover_book.jpg" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Buy print version</figcaption><p></p>
</figure>
</div>
</div>
</div>
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="tidyfinance" data-color="#3b9ab2" data-emoji="" data-font="Cookie" data-text="Support us with a coffee" data-outline-color="#ffffff" data-font-color="#ffffff" data-coffee-color="#e1af00"></script>
<section id="why-does-this-book-exist" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="why-does-this-book-exist">Why Does This Book Exist?</h2>
<p>Financial economics is a vibrant area of research, a central part of all business activities, and at least implicitly relevant to our everyday life. Despite its relevance for our society and a vast number of empirical studies of financial phenomena, one quickly learns that the actual implementation of models to solve problems in the area of financial economics is typically rather opaque. As graduate students, we were particularly surprised by the lack of public code for seminal papers or even textbooks on key concepts of financial economics. The lack of transparent code not only leads to numerous replication efforts (and their failures) but also constitutes a waste of resources on problems that countless others have already solved in secrecy.</p>
<p>This book aims to lift the curtain on reproducible finance by providing a fully transparent code base for many common financial applications. We hope to inspire others to share their code publicly and take part in our journey toward more reproducible research in the future.</p>
</section>
<section id="who-should-read-this-book" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="who-should-read-this-book">Who Should Read This Book?</h2>
<p>We write this book for three audiences:</p>
<ul>
<li>Students who want to acquire the basic tools required to conduct financial research ranging from undergrad to graduate level. The book’s structure is simple enough such that the material is sufficient for self-study purposes.</li>
<li>Instructors who look for materials to teach courses in empirical finance or financial economics. We provide plenty of examples and focus on intuitive explanations that can easily be adjusted or expanded. At the end of each chapter, we provide exercises that we hope inspire students to dig deeper.</li>
<li>Data analysts or statisticians who work on issues dealing with financial data and who need practical tools to succeed.</li>
</ul>
</section>
<section id="what-will-you-learn" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="what-will-you-learn">What Will You Learn?</h2>
<p>The book is currently divided into five parts:</p>
<ul>
<li>Chapter 1 introduces you to important concepts around which our approach to Tidy Finance revolves.</li>
<li>Chapters 2–4 provide tools to organize your data and prepare the most common data sets used in financial research. Although many important data are behind paywalls, we start by describing different open-source data and how to download them. We then move on to prepare two of the most popular datasets in financial research: CRSP and Compustat. Then, we cover corporate bond data from TRACE. We reuse the data from these chapters in all subsequent chapters. Chapter 5 contains an overview of common alternative data providers for which direct access vie R packages exist.</li>
<li>Chapters 6-11 deal with key concepts of empirical asset pricing, such as beta estimation, portfolio sorts, performance analysis, and asset pricing regressions.</li>
<li>Chapters 12-15 apply linear models to panel data and machine learning methods to problems in factor selection and option pricing.</li>
<li>Chapters 16-17 provide approaches for parametric, constrained portfolio optimization, and backtesting procedures.<br>
Each chapter is self-contained and can be read individually. Yet the data chapters provide an important background necessary for data management in all other chapters.</li>
</ul>
</section>
<section id="what-wont-you-learn" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="what-wont-you-learn">What Won’t You Learn?</h2>
<p>This book is about empirical work. While we assume only basic knowledge of statistics and econometrics, we do not provide detailed treatments of the underlying theoretical models or methods applied in this book. Instead, you find references to the seminal academic work in journal articles or textbooks for more detailed treatments. We believe that our comparative advantage is to provide a thorough implementation of typical approaches such as portfolio sorts, backtesting procedures, regressions, machine learning methods, or other related topics in empirical finance. We enrich our implementations by discussing the needy-greedy choices you face while conducting empirical analyses. We hence refrain from deriving theoretical models or extensively discussing the statistical properties of well-established tools.</p>
<p>Our book is close in spirit to other books that provide fully reproducible code for financial applications. We view them as complementary to our work and want to highlight the differences:</p>
<ul>
<li><span class="citation" data-cites="Regenstein2018">Regenstein Jr (<a href="#ref-Regenstein2018" role="doc-biblioref">2018</a>)</span> provides an excellent introduction and discussion of different tools for standard applications in finance (e.g., how to compute returns and sample standard deviations of a time series of stock returns). In contrast, our book clearly focuses on applications of the state-of-the-art for academic research in finance. We thus fill a niche that allows aspiring researchers or instructors to rely on a well-designed code base.</li>
<li><span class="citation" data-cites="Coqueret2020">Coqueret and Guida (<a href="#ref-Coqueret2020" role="doc-biblioref">2020</a>)</span> constitute a great compendium to our book with respect to applications related to return prediction and portfolio formation. The book primarily targets practitioners and has a hands-on focus. Our book, in contrast, relies on the typical databases used in financial research and focuses on the preparation of such datasets for academic applications. In addition, our chapter on machine learning focuses on factor selection instead of return prediction.</li>
</ul>
<p>Although we emphasize the importance of reproducible workflow principles, we do not provide introductions to some of the core tools that we relied on to create and maintain this book:</p>
<ul>
<li>Version control systems such as <a href="https://git-scm.com/">Git</a> are vital in managing any programming project. Originally designed to organize the collaboration of software developers, even solo data analysts will benefit from adopting version control. Git also makes it simple to publicly share code and allow others to reproduce your findings. We refer to <span class="citation" data-cites="Bryan2022">Bryan (<a href="#ref-Bryan2022" role="doc-biblioref">2022</a>)</span> for a gentle introduction to the (sometimes painful) life with Git. </li>
<li>Good communication of results is a key ingredient to reproducible and transparent research. To compile this book, we heavily draw on a suite of fantastic open-source tools. First, <span class="citation" data-cites="ggplot2">Wickham (<a href="#ref-ggplot2" role="doc-biblioref">2016</a>)</span> provide a highly customizable yet easy-to-use system for creating data visualizations. <span class="citation" data-cites="Wickham2016">Wickham and Grolemund (<a href="#ref-Wickham2016" role="doc-biblioref">2016</a>)</span> provides an intuitive introduction to creating graphics using this approach. Second, in our daily work and to compile this book, we used the markdown-based authoring framework described in <span class="citation" data-cites="XieAllaireGrolemund2018">Xie, Allaire, and Grolemund (<a href="#ref-XieAllaireGrolemund2018" role="doc-biblioref">2018</a>)</span> and <span class="citation" data-cites="XieDervieuxRiederer2020">Xie, Dervieux, and Riederer (<a href="#ref-XieDervieuxRiederer2020" role="doc-biblioref">2020</a>)</span>. Markdown documents are fully reproducible and support dozens of static and dynamic output formats. Lastly, <span class="citation" data-cites="Xie2016">Xie (<a href="#ref-Xie2016" role="doc-biblioref">2016</a>)</span> tremendously facilitates authoring markdown-based books. We do not provide introductions to these tools, as the resources above already provide easily accessible tutorials.<br>
</li>
<li>Good writing is also important for the presentation of findings. We neither claim to be experts in this domain nor do we try to sound particularly academic. On the contrary, we deliberately use a more colloquial language to describe all the methods and results presented in this book in order to allow our readers to relate more easily to the rather technical content. For those who desire more guidance with respect to formal academic writing for financial economics, we recommend <span class="citation" data-cites="Kiesling2003">Kiesling (<a href="#ref-Kiesling2003" role="doc-biblioref">2003</a>)</span>, <span class="citation" data-cites="Cochrane2005">Cochrane (<a href="#ref-Cochrane2005" role="doc-biblioref">2005</a>)</span>, and <span class="citation" data-cites="Jacobsen2014">Jacobsen (<a href="#ref-Jacobsen2014" role="doc-biblioref">2014</a>)</span>, who all provide essential tips (condensed to a few pages).</li>
</ul>
</section>
<section id="why-r" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="why-r">Why R?</h2>
<p>We believe that R <span class="citation" data-cites="R-base">(<a href="#ref-R-base" role="doc-biblioref">R Core Team 2022</a>)</span> is among the best choices for a programming language in the area of finance. Some of our favorite features include:</p>
<ul>
<li>R is free and open-source, so that you can use it in academic and professional contexts.</li>
<li>A diverse and active online community works on a broad range of tools.</li>
<li>A massive set of actively maintained packages for all kinds of applications exists, e.g., data manipulation, visualization, machine learning, etc.</li>
<li>Powerful tools for communication, e.g., Rmarkdown and shiny, are readily available.</li>
<li>RStudio is one of the best development environments for interactive data analysis.</li>
<li>Strong foundations of functional programming are provided.</li>
<li>Smooth integration with other programming languages, e.g., SQL, Python, C, C++, Fortran, etc.</li>
</ul>
<p>For more information on why R is great, we refer to <span class="citation" data-cites="Wickham2019">Wickham et al. (<a href="#ref-Wickham2019" role="doc-biblioref">2019</a>)</span>.</p>
</section>
<section id="why-tidy" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="why-tidy">Why Tidy?</h2>
<p>As you start working with data, you quickly realize that you spend a lot of time reading, cleaning, and transforming your data. In fact, it is often said that more than 80% of data analysis is spent on preparing data. By <em>tidying data</em>, we want to structure data sets to facilitate further analyses. As <span class="citation" data-cites="Wickham2014">Wickham (<a href="#ref-Wickham2014" role="doc-biblioref">2014</a>)</span> puts it:</p>
<blockquote class="blockquote">
<p>[T]idy datasets are all alike, but every messy dataset is messy in its own way. Tidy datasets provide a standardized way to link the structure of a dataset (its physical layout) with its semantics (its meaning). In its essence, tidy data follows these three principles:</p>
</blockquote>
<ol type="1">
<li>Every column is a variable.</li>
<li>Every row is an observation.</li>
<li>Every cell is a single value.</li>
</ol>
<p>Throughout this book, we try to follow these principles as best as we can. If you want to learn more about tidy data principles in an informal manner, we refer you to <a href="https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html">this vignette</a> as part of <span class="citation" data-cites="tidyr">Wickham and Girlich (<a href="#ref-tidyr" role="doc-biblioref">2022</a>)</span>.</p>
<p>In addition to the data layer, there are also tidy coding principles outlined in <a href="https://tidyverse.tidyverse.org/articles/manifesto.html">the tidy tools manifesto</a> that we try to follow:</p>
<ol type="1">
<li>Reuse existing data structures.</li>
<li>Compose simple functions with the pipe.</li>
<li>Embrace functional programming.</li>
<li>Design for humans.</li>
</ol>
<p>In particular, we heavily draw on a set of packages called the <a href="https://tidyverse.tidyverse.org/index.html"><code>tidyverse</code></a> <span class="citation" data-cites="Wickham2019">(<a href="#ref-Wickham2019" role="doc-biblioref">Wickham et al. 2019</a>)</span>. The <code>tidyverse</code> is a consistent set of packages for all data analysis tasks, ranging from importing and wrangling to visualizing and modeling data with the same grammar. In addition to explicit tidy principles, the <code>tidyverse</code> has further benefits: (i) if you master one package, it is easier to master others, and (ii) the core packages are developed and maintained by the Public Benefit Company Posit. These core packages contained in the <code>tidyverse</code> are: <code>ggplot2</code> <span class="citation" data-cites="ggplot2">(<a href="#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span>, <code>dplyr</code> <span class="citation" data-cites="dplyr">(<a href="#ref-dplyr" role="doc-biblioref">Wickham et al. 2022</a>)</span>, <code>tidyr</code> <span class="citation" data-cites="tidyr">(<a href="#ref-tidyr" role="doc-biblioref">Wickham and Girlich 2022</a>)</span>, <code>readr</code> <span class="citation" data-cites="readr">(<a href="#ref-readr" role="doc-biblioref">Wickham, Hester, and Bryan 2022</a>)</span>, <code>purrr</code> <span class="citation" data-cites="purrr">(<a href="#ref-purrr" role="doc-biblioref">Henry and Wickham 2020</a>)</span>, <code>tibble</code> <span class="citation" data-cites="tibble">(<a href="#ref-tibble" role="doc-biblioref">Müller and Wickham 2022</a>)</span>, <code>stringr</code> <span class="citation" data-cites="stringr">(<a href="#ref-stringr" role="doc-biblioref">Wickham 2019</a>)</span>, and <code>forcats</code> <span class="citation" data-cites="forcats">(<a href="#ref-forcats" role="doc-biblioref">Wickham 2021</a>)</span>.</p>
<div class="rmdnote">
<p>Throughout the book we use the native pipe <code>|&gt;</code>, a powerful tool to clearly express a sequence of operations. Readers familiar with the <code>tidyverse</code> may be used to the predecessor <code>%&gt;%</code> that is part of the <code>magrittr</code> package. For all our applications, the native and <code>magrittr</code> pipe behave identically, so we opt for the one that is simpler and part of base R. For a more thorough discussion on the subtle differences between the two pipes, we refer to the <a href="https://r4ds.hadley.nz/workflow-pipes.html">second edition</a> of <span class="citation" data-cites="Wickham2016">Wickham and Grolemund (<a href="#ref-Wickham2016" role="doc-biblioref">2016</a>)</span>.</p>
</div>
<p></p>
</section>
<section id="prerequisites" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<p>Before we continue, make sure you have all the software you need for this book:</p>
<ul>
<li><a href="https://rstudio-education.github.io/hopr/starting.html#starting">Install R and RStudio.</a> To get a walk-through of the installation for every major operating system, follow the steps outlined <a href="https://rstudio-education.github.io/hopr/starting.html#starthng">in this summary.</a> The whole process should be done in a few clicks. If you wonder about the difference: R is an open-source language and environment for statistical computing and graphics, free to download and use. While R runs the computations, RStudio is an integrated development environment that provides an interface by adding many convenient features and tools. We suggest doing all the coding in RStudio.</li>
<li>Open RStudio and install the <code>tidyverse</code>. Not sure how it works? You will find helpful information on how to install packages in this <a href="https://rstudio-education.github.io/hopr/packages2.html">brief summary</a>.</li>
</ul>
<p>If you are new to R, we recommend starting with the following sources:</p>
<ul>
<li>A very gentle and good introduction to the workings of R can be found in the form of the <a href="https://rstudio-education.github.io/hopr/project-1-weighted-dice.html">weighted dice project</a>. Once you are done setting up R on your machine, try to follow the instructions in this project.</li>
<li>The main book on the <code>tidyverse</code>, <span class="citation" data-cites="Wickham2016">Wickham and Grolemund (<a href="#ref-Wickham2016" role="doc-biblioref">2016</a>)</span>, is available online and for free: <a href="https://r4ds.had.co.nz/introduction.html">R for Data Science</a> explains the majority of the tools we use in our book.</li>
<li>If you are an instructor searching to effectively teach R and data science methods, we recommend taking a look at the excellent <a href="https://datasciencebox.org/">data science toolbox</a> by <a href="https://mine-cr.com/about/">Mine Cetinkaya-Rundel.</a></li>
<li>RStudio provides a range of excellent <a href="https://www.rstudio.com/resources/cheatsheets/">cheat sheets</a> with extensive information on how to use the <code>tidyverse</code> packages.</li>
</ul>
</section>
<section id="about-the-authors" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="about-the-authors">About the Authors</h2>
<p>We met at the <a href="https://www.vgsf.ac.at/">Vienna Graduate School of Finance</a> from which each of us graduated with a different focus but a shared passion: coding with R. We continue to sharpen our R skills as part of our current occupations:</p>
<ul>
<li><a href="https://christophscheuch.github.io/">Christoph Scheuch</a> is the Director of Product at the social trading platform <a href="https://www.wikifolio.com/">wikifolio.com.</a> He is responsible for product planning, execution, and monitoring and manages a team of data scientists to analyze user behavior and develop data-driven products. Christoph is also an external lecturer at the Vienna University of Economics and Business, where he teaches finance students how to manage empirical projects.</li>
<li><a href="https://voigtstefan.me/">Stefan Voigt</a> is Assistant Professor of Finance at the <a href="https://www.economics.ku.dk/">Department of Economics at the University in Copenhagen</a> and a research fellow at the <a href="https://danishfinanceinstitute.dk/">Danish Finance Institute.</a> His research focuses on blockchain technology, high-frequency trading, and financial econometrics. Stefan’s research has been published in the leading finance and econometrics journals. He received the Danish Finance Institute teaching award 2022 for his courses for students and practitioners on empirical finance based on this book.</li>
<li><a href="https://sites.google.com/view/patrick-weiss">Patrick Weiss</a> is affiliated with <a href="https://en.ru.is">Reykjavik University</a> and <a href="https://www.wu.ac.at/en/">Vienna University of Economics and Business.</a> His research activity centers around the intersection of empirical asset pricing and corporate finance. Patrick is especially passionate about empirical asset pricing and has published research in a top journal in financial economics.</li>
</ul>
</section>
<section id="license" class="level2 unnumbered cell">
<h2 class="unnumbered anchored" data-anchor-id="license">License</h2>
<p>This book is licensed to you under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International CC BY-NC-SA 4.0</a>. The code samples in this book are licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/">Creative Commons CC0 1.0 Universal (CC0 1.0), i.e., public domain</a>. You can cite this project as follows: &gt; Scheuch, C., Voigt, S., &amp; Weiss, P. (2023). Tidy Finance with R (1st ed.). Chapman and Hall/CRC. <a href="https://doi.org/10.1201/b23237">https://doi.org/10.1201/b23237</a></p>
</section>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span>book{scheuch2023,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  title <span class="ot">=</span> {Tidy Finance with R},</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  author <span class="ot">=</span> {Scheuch, Christoph, Voigt, Stefan, <span class="sc">&amp;</span> Weiss, Patrick},</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  year <span class="ot">=</span> {<span class="dv">2023</span>},</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    publisher <span class="ot">=</span> {Chapman and Hall<span class="sc">/</span>CRC},</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    edition  <span class="ot">=</span> {1st},</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>tidy<span class="sc">-</span>finance.org},</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  doi <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>doi.org<span class="sc">/</span><span class="fl">10.1201</span><span class="sc">/</span>b23237}</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>quart ## Colophon {.unnumbered}</p>
<p>This book was written in RStudio using <code>bookdown</code> <span class="citation" data-cites="Xie2016">(<a href="#ref-Xie2016" role="doc-biblioref">Xie 2016</a>)</span>. The website is hosted with GitHub Pages. The complete source is <a href="https://www.github.com/tidy-finance/tidy_finance.org">available from GitHub</a>. We generated all plots in this book using <code>ggplot2</code> and its classic dark-on-light theme (<code>theme_bw()</code>).</p>
<p>This version of the book was built with R <span class="citation" data-cites="R-base">(<a href="#ref-R-base" role="doc-biblioref">R Core Team 2022</a>)</span> version 4.2.2 (2022-10-31, Innocent and Trusting) and the following packages: </p>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Package </th>
   <th style="text-align:left;"> Version </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> dplyr </td>
   <td style="text-align:left;"> 1.0.10 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> forcats </td>
   <td style="text-align:left;"> 0.5.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ggplot2 </td>
   <td style="text-align:left;"> 3.4.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> jsonlite </td>
   <td style="text-align:left;"> 1.8.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> kableExtra </td>
   <td style="text-align:left;"> 1.3.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> lubridate </td>
   <td style="text-align:left;"> 1.9.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> purrr </td>
   <td style="text-align:left;"> 1.0.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> readr </td>
   <td style="text-align:left;"> 2.1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> renv </td>
   <td style="text-align:left;"> 0.15.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> rmarkdown </td>
   <td style="text-align:left;"> 2.18 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> stringr </td>
   <td style="text-align:left;"> 1.4.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> tibble </td>
   <td style="text-align:left;"> 3.1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> tidyquant </td>
   <td style="text-align:left;"> 1.0.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> tidyr </td>
   <td style="text-align:left;"> 1.2.1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> tidyverse </td>
   <td style="text-align:left;"> 1.3.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-Bryan2022" class="csl-entry" role="doc-biblioentry">
Bryan, Jennifer. 2022. <em><span class="nocase">Happy Git and GitHub for the useR</span></em>. <a href="https://github.com/jennybc/happy-git-with-r">https://github.com/jennybc/happy-git-with-r</a>.
</div>
<div id="ref-Cochrane2005" class="csl-entry" role="doc-biblioentry">
Cochrane, John H. 2005. <span>“<span class="nocase">Writing tips for PhD students</span>.”</span> <em><span>Note</span></em>. <a href="https://www.johnhcochrane.com/research-all/writing-tips-for-phd-studentsnbsp">https://www.johnhcochrane.com/research-all/writing-tips-for-phd-studentsnbsp</a>.
</div>
<div id="ref-Coqueret2020" class="csl-entry" role="doc-biblioentry">
Coqueret, Guillaume, and Tony Guida. 2020. <em><span class="nocase">Machine learning for factor investing: R version</span></em>. Chapman; Hall/CRC. <a href="https://www.mlfactor.com/">https://www.mlfactor.com/</a>.
</div>
<div id="ref-purrr" class="csl-entry" role="doc-biblioentry">
Henry, Lionel, and Hadley Wickham. 2020. <em><span class="nocase">purrr: Functional programming tools</span></em>. <a href="https://CRAN.R-project.org/package=purrr">https://CRAN.R-project.org/package=purrr</a>.
</div>
<div id="ref-Jacobsen2014" class="csl-entry" role="doc-biblioentry">
Jacobsen, Ben. 2014. <span>“<span class="nocase">Some research and writing tips</span>.”</span> <em><span>Note</span></em>. <a href="https://albertjmenkveld.com/text/Jacobsen14.pdf">https://albertjmenkveld.com/text/Jacobsen14.pdf</a>.
</div>
<div id="ref-Kiesling2003" class="csl-entry" role="doc-biblioentry">
Kiesling, Lynne. 2003. <span>“<span class="nocase">Writing tips for economics (and pretty much anything else)</span>.”</span> <em><span>Note</span></em>. <a href="https://nuwrite.northwestern.edu/communities/social-sciences/economics/docs/writing-advice-for-papers-in-economics/Kiesling%20writingguidelines.pdf">https://nuwrite.northwestern.edu/communities/social-sciences/economics/docs/writing-advice-for-papers-in-economics/Kiesling%20writingguidelines.pdf</a>.
</div>
<div id="ref-tibble" class="csl-entry" role="doc-biblioentry">
Müller, Kirill, and Hadley Wickham. 2022. <em><span class="nocase">tibble: Simple data frames</span></em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-R-base" class="csl-entry" role="doc-biblioentry">
R Core Team. 2022. <em><span class="nocase">R: A language and environment for statistical computing</span></em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-Regenstein2018" class="csl-entry" role="doc-biblioentry">
Regenstein Jr, Jonathan K. 2018. <em><span class="nocase">Reproducible finance with R: Code flows and shiny apps for portfolio analysis</span></em>. Chapman; Hall/CRC. <a href="http://www.reproduciblefinance.com/start-here/">http://www.reproduciblefinance.com/start-here/</a>.
</div>
<div id="ref-Wickham2014" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2014. <span>“<span class="nocase">Tidy data</span>.”</span> <em><span>Journal of Statistical Software</span></em> 59 (1): 1–23. <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>.
</div>
<div id="ref-ggplot2" class="csl-entry" role="doc-biblioentry">
———. 2016. <em><span class="nocase">ggplot2: Elegant graphics for data analysis</span></em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-stringr" class="csl-entry" role="doc-biblioentry">
———. 2019. <em><span class="nocase">stringr: Simple, consistent wrappers for common string operations</span></em>. <a href="https://CRAN.R-project.org/package=stringr">https://CRAN.R-project.org/package=stringr</a>.
</div>
<div id="ref-forcats" class="csl-entry" role="doc-biblioentry">
———. 2021. <em><span class="nocase">forcats: Tools for working with categorical variables (Factors)</span></em>. <a href="https://CRAN.R-project.org/package=forcats">https://CRAN.R-project.org/package=forcats</a>.
</div>
<div id="ref-Wickham2019" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“<span class="nocase">Welcome to the Tidyverse</span>.”</span> <em><span>Journal of Open Source Software</span></em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-dplyr" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Romain François, Lionel Henry, and Kirill Müller. 2022. <em><span class="nocase">dplyr: A grammar of data manipulation</span></em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.
</div>
<div id="ref-tidyr" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, and Maximilian Girlich. 2022. <em><span class="nocase">tidyr: Tidy messy data</span></em>. <a href="https://CRAN.R-project.org/package=tidyr">https://CRAN.R-project.org/package=tidyr</a>.
</div>
<div id="ref-Wickham2016" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, and Garrett Grolemund. 2016. <em><span class="nocase">R for data science: Import, tidy, transform, visualize, and model data</span></em>. O’Reilly. <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.
</div>
<div id="ref-readr" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Jim Hester, and Jennifer Bryan. 2022. <em><span class="nocase">readr: Read rectangular text data</span></em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
<div id="ref-Xie2016" class="csl-entry" role="doc-biblioentry">
Xie, Yihui. 2016. <em><span class="nocase">bookdown: Authoring books and technical documents with R Markdown</span></em>. Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/bookdown">https://bookdown.org/yihui/bookdown</a>.
</div>
<div id="ref-XieAllaireGrolemund2018" class="csl-entry" role="doc-biblioentry">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em><span class="nocase">R Markdown: The definitive guide</span></em>. Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
<div id="ref-XieDervieuxRiederer2020" class="csl-entry" role="doc-biblioentry">
Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em><span class="nocase">R markdown cookbook</span></em>. Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown-cookbook">https://bookdown.org/yihui/rmarkdown-cookbook</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./introduction-to-tidy-finance.html" class="pagination-link">
        <span class="nav-page-text">Introduction to Tidy Finance</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © Chistoph Scheuch, Stefan Voigt &amp; Patrick Weiss
  </li>  
</ul>
      </div>
  </div>
</footer>



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>